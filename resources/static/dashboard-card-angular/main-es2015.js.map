{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/card/card/card.component.ts","./src/app/card/card/card.component.html","./src/app/card/card/card.service.ts","./src/app/core/interceptor/security.interceptor.ts","./src/app/core/pipes/credit-card.pipe.ts","./src/app/core/pipes/pipes.module.ts","./src/app/core/service/app-initializer.service.ts","./src/app/core/service/widget-event.service.ts","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, Input, OnDestroy, OnInit } from '@angular/core';\r\nimport { EVENT_KEY, WidgetEventService } from './core/service/widget-event.service';\r\n\r\nconst getKeycloakInstance = () =>\r\n  (window &&\r\n    window['entando'] &&\r\n    window['entando'].keycloak && {\r\n      ...window['entando'].keycloak,\r\n      initialized: true,\r\n    }) || {\r\n    initialized: false,\r\n  };\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n  keycloak = getKeycloakInstance();\r\n  unsubscribeFromKeycloakEvent = null;\r\n\r\n  @Input('cardname') cardname: string;\r\n\r\n  constructor(private widgetEventService: WidgetEventService) {}\r\n\r\n  ngOnInit() {\r\n    this.keycloak = { ...getKeycloakInstance(), initialized: true };\r\n\r\n    this.unsubscribeFromKeycloakEvent = this.widgetEventService.subscribeToWidgetEvent(\r\n      EVENT_KEY.KEYCLOAK_EVENT_TYPE,\r\n      () => {\r\n        this.keycloak = { ...getKeycloakInstance(), initialized: true };\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    if (this.unsubscribeFromKeycloakEvent) {\r\n      this.unsubscribeFromKeycloakEvent();\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"!(keycloak.initialized && keycloak.authenticated); else elseBlock\">\r\n  Waiting for authorization...\r\n</div>\r\n<ng-template #elseBlock>\r\n  <app-card [cardName]=\"cardname\" [keycloak]=\"keycloak\"></app-card>\r\n</ng-template>\r\n","import { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { Injector, NgModule, APP_INITIALIZER } from '@angular/core';\r\nimport { createCustomElement } from '@angular/elements';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { AppComponent } from './app.component';\r\nimport { CardComponent } from './card/card/card.component';\r\nimport { SecurityInterceptor } from './core/interceptor/security.interceptor';\r\nimport { PipesModule } from './core/pipes/pipes.module';\r\nimport { AppInitializerService } from './core/service/app-initializer.service';\r\n\r\nexport function init(appInitializerService: AppInitializerService) {\r\n  return () => appInitializerService.initialize();\r\n}\r\n\r\n@NgModule({\r\n  declarations: [AppComponent, CardComponent],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    PipesModule,\r\n    TranslateModule.forRoot({\r\n      defaultLanguage: 'en',\r\n    }),\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: APP_INITIALIZER,\r\n      useFactory: init,\r\n      deps: [AppInitializerService],\r\n      multi: true,\r\n    },\r\n    { provide: HTTP_INTERCEPTORS, useClass: SecurityInterceptor, multi: true },\r\n  ],\r\n  entryComponents: [AppComponent],\r\n})\r\nexport class AppModule {\r\n  constructor(private injector: Injector) {}\r\n\r\n  ngDoBootstrap() {\r\n    const el = createCustomElement(AppComponent, { injector: this.injector });\r\n    customElements.define('sd-seeds-card-details-ng', el);\r\n  }\r\n}\r\n","import { Component, Input, OnInit } from '@angular/core';\r\nimport { EVENT_KEY, WidgetEventService } from 'src/app/core/service/widget-event.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { SeedCard } from '../card.model';\r\nimport { CardService } from './card.service';\r\n\r\n@Component({\r\n  selector: 'app-card',\r\n  templateUrl: './card.component.html',\r\n  styleUrls: ['./card.component.scss']\r\n})\r\nexport class CardComponent implements OnInit {\r\n  env = environment;\r\n  firstCall = true;\r\n\r\n  @Input() cardName: string;\r\n  @Input() keycloak;\r\n\r\n  seedCard: SeedCard;\r\n\r\n  constructor(private cardService: CardService, private widgetEventService: WidgetEventService) {}\r\n\r\n  ngOnInit() {\r\n    const userID = this.keycloak.idTokenParsed.preferred_username;\r\n\r\n    this.cardService.getSeedsCardByUserID(userID, this.cardName).subscribe(\r\n      (response: SeedCard) => {\r\n        this.seedCard = response;\r\n        if (this.cardName === 'checking' && this.firstCall) {\r\n          this.firstCall = false;\r\n          this.onDetail();\r\n        }\r\n      },\r\n      error => console.error(error)\r\n    );\r\n  }\r\n\r\n  onDetail() {\r\n    if (this.seedCard && this.seedCard.id) {\r\n      const payload = { cardname: this.cardName, accountID: this.seedCard.id };\r\n      console.log(payload);\r\n      this.widgetEventService.createWidgetEventPublisher(EVENT_KEY.OUTPUT_EVENT_TYPES.transactionsDetail, payload);\r\n    }\r\n  }\r\n}\r\n","<div (click)=\"onDetail()\">\r\n  <div class=\"seeds-card\">\r\n    <div class=\"seeds-card-header\">\r\n      <img\r\n        class=\"seeds-card-icon\"\r\n        [src]=\"env.assetsPath + '/Framecredit-card.png'\"\r\n      />\r\n      <div class=\"seeds-card-title\">\r\n        {{ \"label.common.\" + cardName | translate }}\r\n      </div>\r\n      <div class=\"seeds-card-value\">\r\n        {{ seedCard?.accountNumber | creditCard }}\r\n      </div>\r\n      <div class=\"seeds-card-action\">\r\n        <i class=\"fas fa-ellipsis-v\"></i>\r\n      </div>\r\n    </div>\r\n\r\n    <div *ngIf=\"seedCard\" class=\"seeds-card-body\">\r\n      <p class=\"seeds-card-balance\">\r\n        {{ seedCard?.balance | currency }}\r\n      </p>\r\n      <p class=\"seeds-card-balance-caption\">\r\n        {{ \"label.common.balance\" | translate }}\r\n      </p>\r\n\r\n      <p *ngIf=\"seedCard?.rewardPoints\" class=\"seeds-card-balance-reward\">\r\n        {{ \"label.common.rewardPoints\" | translate }}:\r\n        <span class=\"seeds-card-balance-reward-value\">\r\n          {{ seedCard.rewardPoints }}\r\n        </span>\r\n      </p>\r\n    </div>\r\n\r\n    <div *ngIf=\"!seedCard\">\r\n      <p class=\"seeds-card-balance-caption\">\r\n        {{\r\n          \"label.common.noCheckingAccount\" | translate: { cardName: cardName }\r\n        }}\r\n      </p>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Observable } from 'rxjs';\r\nimport { SeedCard } from '../card.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class CardService {\r\n  constructor(private httpClient: HttpClient) {}\r\n\r\n  getSeedscard(params: any = {}): Observable<any> {\r\n    const { id, options, cardname } = params;\r\n    const url = `${environment}/banking/api/${cardname}s/${id}`;\r\n    return this.httpClient.get<any>(url);\r\n  }\r\n\r\n  getSeedsCardByUserID(userID, cardName) {\r\n    const url = `${environment.domainUrl}/banking/api/${cardName}/user/${userID}`;\r\n    return this.httpClient.get<SeedCard>(url);\r\n  }\r\n}\r\n","import {\r\n  HttpEvent,\r\n  HttpHandler,\r\n  HttpInterceptor,\r\n  HttpRequest,\r\n} from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class SecurityInterceptor implements HttpInterceptor {\r\n  getKeycloakToken() {\r\n    if (\r\n      window &&\r\n      window['entando'] &&\r\n      window['entando'].keycloak &&\r\n      window['entando'].keycloak.authenticated\r\n    ) {\r\n      return window['entando'].keycloak.token;\r\n    }\r\n    return '';\r\n  }\r\n\r\n  getDefaultOptions() {\r\n    const token = this.getKeycloakToken();\r\n\r\n    return {\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    };\r\n  }\r\n\r\n  intercept(\r\n    request: HttpRequest<any>,\r\n    next: HttpHandler\r\n  ): Observable<HttpEvent<any>> {\r\n    const headers = this.getDefaultOptions();\r\n\r\n    request = request.clone({\r\n      setHeaders: headers,\r\n    });\r\n\r\n    return next.handle(request);\r\n  }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'creditCard',\r\n})\r\nexport class CreditCardPipe implements PipeTransform {\r\n  transform(value: string): any {\r\n    if (!value) return '';\r\n\r\n    let obfuscatedValue = '...';\r\n    if (value.length >= 4) {\r\n      obfuscatedValue += value.substring(value.length - 4, value.length);\r\n    }\r\n    return obfuscatedValue;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { CreditCardPipe } from './credit-card.pipe';\r\n\r\n@NgModule({\r\n  declarations: [CreditCardPipe],\r\n  imports: [CommonModule],\r\n  exports: [CreditCardPipe],\r\n})\r\nexport class PipesModule {}\r\n","import { Injectable } from '@angular/core';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport * as en from '../i18n/en.json';\r\nimport * as it from '../i18n/it.json';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class AppInitializerService {\r\n  constructor(private translate: TranslateService) {}\r\n\r\n  initialize() {\r\n    this.translate.use(window.navigator.language.split('-')[0]);\r\n    this.translate.setTranslation('en', en['default']);\r\n    this.translate.setTranslation('it', it['default']);\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nexport const EVENT_KEY = {\r\n  KEYCLOAK_EVENT_TYPE: 'keycloak',\r\n  OUTPUT_EVENT_TYPES: {\r\n    transactionsDetail: 'seedscard.transactionsDetail',\r\n  },\r\n};\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class WidgetEventService {\r\n  constructor() {}\r\n\r\n  publishWidgetEvent(eventId, payload) {\r\n    const widgetEvent = new CustomEvent(eventId, {\r\n      detail: {\r\n        payload,\r\n      },\r\n    });\r\n    window.dispatchEvent(widgetEvent);\r\n  }\r\n\r\n  createWidgetEventPublisher(eventId, payload) {\r\n    this.publishWidgetEvent(eventId, payload);\r\n  }\r\n\r\n  subscribeToWidgetEvent(eventId, eventHandler) {\r\n    window.addEventListener(eventId, eventHandler);\r\n    return () => {\r\n      window.removeEventListener(eventId, eventHandler);\r\n    };\r\n  }\r\n\r\n  subscribeToWidgetEvents(widgetEvents, eventHandler) {\r\n    widgetEvents.forEach((eventType) =>\r\n      window.addEventListener(eventType, eventHandler)\r\n    );\r\n\r\n    return () => {\r\n      widgetEvents.forEach((eventType) =>\r\n        window.removeEventListener(eventType, eventHandler)\r\n      );\r\n    };\r\n  }\r\n\r\n  widgetEventToFSA = (widgetEvent) => {\r\n    // for info about Flux Standard Action (FSA) see https://github.com/redux-utilities/flux-standard-action\r\n    const {\r\n      type,\r\n      detail: { payload, error, meta },\r\n    } = widgetEvent;\r\n    return { type, payload, error, meta };\r\n  };\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  domainUrl: 'http://localhost:8081',\r\n  assetsPath: 'assets'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":"webpack:///"}