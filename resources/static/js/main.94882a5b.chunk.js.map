{"version":3,"sources":["i18n/locales/index.js","i18n/i18n.js","auth/KeycloakContext.js","assets/svg/svg.js","components/Icon.js","components/Title.js","components/Counter.js","components/table/Pagination.js","components/table/MyTable.js","components/filters/utils.js","components/modal/MyModal.js","App.js","auth/KeycloakViews.js","components/__types__/keycloak.js","components/common/Notification.js","api/constants.js","api/statements/statements.js","api/alerts/alerts.js","api/apiHandler.js","AppContainer.js","custom-elements/AlertBarIcon.js","helpers/widgetEvents.js","custom-elements/widgetEventTypes.js","assets/svg/investments.svg","assets/svg/managealerts.svg","assets/svg/paybills.svg","assets/svg/sendmoney.svg","assets/svg/transfermoney.svg","assets/svg/viewstatements.svg","assets/pdf/Entando_Development_Methodology.pdf"],"names":["en","resources","Object","keys","locales","reduce","acc","lang","translation","i18next","use","initReactI18next","init","fallbackLng","interpolation","escapeValue","KeycloakContext","React","createContext","svgTypes","svg","investments","managealerts","paybills","sendmoney","transfermoney","viewstatements","Icon","icon","className","style","imgSrc","getSvg","id","src","alt","defaultProps","Title","title","Counter","count","Pagination","itemsPerPage","totalItems","paginate","currentPage","pageNumbers","i","Math","ceil","push","map","number","key","type","onClick","background","MyTable","props","pageNumber","setCurrentPage","handleFileRead","doc","newDoc","read","putDocumentRead","generateTable","data","Table","responsive","size","hover","d","createdAt","description","window","open","Pdf","fontWeight","state","prevProps","this","handleTable","setState","indexOfLastStatement","indexOfFirstStatement","currentStatements","slice","length","PureComponent","parseDateToString","date","toISOString","substring","MyModal","descriptionFilter","onChangeDescription","bind","filterByDescription","onChangeRangeFilter","evt","newDescription","target","value","newRangeFilter","changeRangeFilter","today","Date","dateA","range","dateB","setDate","getDate","getDateFromRange","getFullYear","getMonth","getHours","getStartMonthFromDate","descriptionOptional","changeDescription","isOpen","toggle","Modal","ModalHeader","color","name","onChange","ModalBody","padding","toggleModal","ModalFooter","Button","Component","App","modalOpen","getUnreadData","forEach","Array","isArray","iconStyle","countStyle","titleStyle","AuthenticatedView","PropTypes","shape","initialized","bool","authenticated","children","keycloak","UnauthenticatedView","statusIcon","success","CheckCircleIcon","error","ErrorIcon","info","InfoIcon","autoHideDurations","Notification","classes","passedStatus","status","message","onClose","INFO","autoHideDuration","messageTemplate","clsx","iconStatus","Snackbar","SnackbarContent","action","IconButton","aria-label","SUCCESS","ERROR","withStyles","theme","display","alignItems","fontSize","opacity","marginRight","spacing","backgroundColor","green","palette","dark","primary","main","withTheme","DOMAIN","process","getDefaultOptions","headers","Headers","Authorization","entando","token","request","url","options","a","fetch","response","has","parseInt","get","json","Promise","reject","Error","statusText","getFilterQuery","filters","filter","f","field","operator","encodeURIComponent","join","getUrl","pagination","hasQuery","parameters","apiStatementsGet","filterQuery","paginationQuery","page","rowsPerPage","method","apiStatementPut","statement","body","JSON","stringify","apiAlertsGet","apiAlertsPut","apiList","putApiContext","apiToCall","api","AppContainer","onMount","onError","t","rangeFilter","apiCall","getApiContext","userId","idTokenParsed","preferred_username","then","sortData","sort","b","aDate","rv","localeCompare","catch","e","notificationStatus","notificationMessage","finally","loading","closeNotification","prevState","changedAuth","changedDescriptionFilter","changedRangeFilter","document","ThemeProvider","withKeycloak","WrappedComponent","withTranslation","Consumer","getKeycloakInstance","ATTRIBUTES","AlertBarIcon","args","mountPoint","unsubscribeFromKeycloakEvent","oldValue","newValue","values","includes","render","createElement","appendChild","eventType","eventHandler","locale","getAttribute","changeLanguage","addEventListener","removeEventListener","ReactDOM","Provider","HTMLElement","customElements","define","module","exports"],"mappings":"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","file":"static/js/main.94882a5b.chunk.js","sourcesContent":["import en from 'i18n/locales/en.json';\r\n\r\nexport default {\r\n  en,\r\n};\r\n","import i18next from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport locales from 'i18n/locales';\r\n\r\n// adds the default namespace ('translation') to resources object per i18next documentation\r\nconst resources = Object.keys(locales).reduce(\r\n  (acc, lang) => ({ ...acc, [lang]: { translation: locales[lang] } }),\r\n  {}\r\n);\r\n\r\ni18next.use(initReactI18next).init({\r\n  fallbackLng: 'en',\r\n  resources,\r\n  interpolation: {\r\n    escapeValue: false,\r\n  },\r\n});\r\n","import React from 'react';\r\n\r\nexport const KeycloakContext = React.createContext(null);\r\n\r\nexport function withKeycloak(WrappedComponent) {\r\n  return function ComponentWithKeycloak(props) {\r\n    return (\r\n      <KeycloakContext.Consumer>\r\n        {/* eslint-disable-next-line react/jsx-props-no-spreading */}\r\n        {value => <WrappedComponent {...props} keycloak={value} />}\r\n      </KeycloakContext.Consumer>\r\n    );\r\n  };\r\n}\r\n","import investments from 'assets/svg/investments.svg';\r\nimport managealerts from 'assets/svg/managealerts.svg';\r\nimport paybills from 'assets/svg/paybills.svg';\r\nimport sendmoney from 'assets/svg/sendmoney.svg';\r\nimport transfermoney from 'assets/svg/transfermoney.svg';\r\nimport viewstatements from 'assets/svg/viewstatements.svg';\r\n\r\nconst svgTypes = {\r\n  investments: 'investments',\r\n  managealerts: 'managealerts',\r\n  paybills: 'paybills',\r\n  sendmoney: 'sendmoney',\r\n  transfermoney: 'transfermoney',\r\n  viewstatements: 'viewstatements',\r\n};\r\n\r\nconst svg = {\r\n  investments,\r\n  managealerts,\r\n  paybills,\r\n  sendmoney,\r\n  transfermoney,\r\n  viewstatements,\r\n};\r\n\r\n// eslint-disable-next-line import/prefer-default-export\r\nexport const getSvg = icon => {\r\n  switch (icon) {\r\n    case svgTypes.investments:\r\n      return svg.investments;\r\n    case svgTypes.managealerts:\r\n      return svg.managealerts;\r\n    case svgTypes.paybills:\r\n      return svg.paybills;\r\n    case svgTypes.sendmoney:\r\n      return svg.sendmoney;\r\n    case svgTypes.transfermoney:\r\n      return svg.transfermoney;\r\n    case svgTypes.viewstatements:\r\n      return svg.viewstatements;\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { getSvg } from 'assets/svg/svg';\r\n\r\nconst Icon = ({ icon, className, style }) => {\r\n  const imgSrc = `/entando-de-app/cmsresources/${getSvg(icon)}`;\r\n\r\n  return <img id=\"my-icon\" src={imgSrc} style={style} className={className} alt=\"icon\" />;\r\n};\r\n\r\nIcon.propTypes = {\r\n  icon: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  style: PropTypes.shape({}),\r\n};\r\n\r\nIcon.defaultProps = {\r\n  className: '',\r\n  style: {},\r\n};\r\n\r\nexport default Icon;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Title = ({ title, className, style }) => {\r\n  return (\r\n    <span id=\"my-title\" className={className} style={style}>\r\n      {title}\r\n    </span>\r\n  );\r\n};\r\n\r\nTitle.propTypes = {\r\n  title: PropTypes.string.isRequired,\r\n  className: PropTypes.string,\r\n  style: PropTypes.shape({}),\r\n};\r\n\r\nTitle.defaultProps = {\r\n  className: '',\r\n  style: {},\r\n};\r\n\r\nexport default Title;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Counter = ({ count, className, style }) => {\r\n  return (\r\n    <span id=\"my-counter\" className={className} style={style}>\r\n      {count}\r\n    </span>\r\n  );\r\n};\r\n\r\nCounter.propTypes = {\r\n  count: PropTypes.number.isRequired,\r\n  className: PropTypes.string,\r\n  style: PropTypes.shape({}),\r\n};\r\n\r\nCounter.defaultProps = {\r\n  className: '',\r\n  style: {},\r\n};\r\n\r\nexport default Counter;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Pagination = ({ className, itemsPerPage, totalItems, paginate, currentPage }) => {\r\n  const pageNumbers = [];\r\n\r\n  // eslint-disable-next-line no-plusplus\r\n  for (let i = 1; i <= Math.ceil(totalItems / itemsPerPage); i++) {\r\n    pageNumbers.push(i);\r\n  }\r\n  return (\r\n    <nav className={className}>\r\n      <ul className=\"pagination\">\r\n        {pageNumbers.map(number => (\r\n          <li key={number} className=\"page-item\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => paginate(number)}\r\n              className=\"page-link\"\r\n              style={currentPage === number ? { background: '#eeeeee' } : null}\r\n            >\r\n              {number}\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nPagination.propTypes = {\r\n  className: PropTypes.string.isRequired,\r\n  itemsPerPage: PropTypes.number.isRequired,\r\n  totalItems: PropTypes.number.isRequired,\r\n  currentPage: PropTypes.number.isRequired,\r\n  paginate: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Pagination;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Table } from 'reactstrap';\r\nimport Pagination from 'components/table/Pagination';\r\nimport Pdf from 'assets/pdf/Entando_Development_Methodology.pdf';\r\n\r\nclass MyTable extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      itemsPerPage: 5,\r\n      currentPage: 1,\r\n    };\r\n  }\r\n\r\n  // componentDidMount() {\r\n  //   const {data} = this.props;\r\n  //   this.setState({data: data})\r\n  // }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { data } = this.props;\r\n    if (prevProps.data !== data) {\r\n      this.handleTable();\r\n    }\r\n  }\r\n\r\n  setCurrentPage(pageNumber) {\r\n    this.setState({ currentPage: pageNumber });\r\n  }\r\n\r\n  paginate = pageNumber => this.setCurrentPage(pageNumber);\r\n\r\n  handleFileRead = doc => {\r\n    const newDoc = { ...doc };\r\n    if (doc.read) return;\r\n    const { putDocumentRead } = this.props;\r\n    newDoc.read = true;\r\n    putDocumentRead(newDoc);\r\n  };\r\n\r\n  generateTable = data => {\r\n    return (\r\n      <Table className=\"MyTable\" responsive size=\"sm\" hover>\r\n        <thead>\r\n          <tr>\r\n            <th>DOCUMENT</th>\r\n            <th>DATE</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {data &&\r\n            data.map(d => {\r\n              const {\r\n                // userId,\r\n                createdAt,\r\n                description,\r\n                read,\r\n              } = d;\r\n              return (\r\n                <tr\r\n                  key={d.id}\r\n                  onClick={() => {\r\n                    this.handleFileRead(d);\r\n                    window.open(Pdf, '_blank');\r\n                    // toggleModal()\r\n                  }}\r\n                >\r\n                  <td style={read ? { fontWeight: 'normal' } : { fontWeight: 'bold' }}>\r\n                    {description}\r\n                  </td>\r\n                  <td style={read ? { fontWeight: 'normal' } : { fontWeight: 'bold' }}>\r\n                    {createdAt}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n        </tbody>\r\n      </Table>\r\n    );\r\n  };\r\n\r\n  handleTable() {\r\n    const { data } = this.props;\r\n    const { currentPage, itemsPerPage } = this.state;\r\n    const indexOfLastStatement = currentPage * itemsPerPage;\r\n    const indexOfFirstStatement = indexOfLastStatement - itemsPerPage;\r\n    const currentStatements = data.slice(indexOfFirstStatement, indexOfLastStatement);\r\n    return this.generateTable(currentStatements);\r\n  }\r\n\r\n  render() {\r\n    const { itemsPerPage, currentPage } = this.state;\r\n    const { data } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        {this.handleTable()}\r\n        <Pagination\r\n          className=\"paginator\"\r\n          itemsPerPage={itemsPerPage}\r\n          totalItems={data.length}\r\n          currentPage={currentPage}\r\n          paginate={this.paginate}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nMyTable.propTypes = {\r\n  data: PropTypes.arrayOf(Object).isRequired,\r\n  putDocumentRead: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default MyTable;\r\n","/**\r\n * from Date format to yyyy-MM-dd format\r\n */\r\nexport const parseDateToString = ({ date }) => {\r\n  return date.toISOString().substring(0, 10);\r\n};\r\n\r\n/**\r\n * return the first day of month from a date (ISO FORMAT without time)\r\n */\r\nexport const getStartMonthFromDate = ({ d }) => {\r\n  const date = new Date(d.getFullYear(), d.getMonth(), 1, d.getHours());\r\n  return parseDateToString({ date });\r\n};\r\n\r\n/**\r\n * return the date starting from a date d and back to 'range' days (ISO FORMAT without time)\r\n */\r\nexport const getDateFromRange = ({ d, range }) => {\r\n  const date = new Date();\r\n  date.setDate(d.getDate() - range);\r\n  return parseDateToString({ date });\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\r\nimport MyTable from 'components/table/MyTable';\r\nimport {\r\n  getDateFromRange,\r\n  getStartMonthFromDate,\r\n  parseDateToString,\r\n} from 'components/filters/utils';\r\n\r\nclass MyModal extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      descriptionFilter: '',\r\n    };\r\n    this.onChangeDescription = this.onChangeDescription.bind(this);\r\n    this.filterByDescription = this.filterByDescription.bind(this);\r\n    this.onChangeRangeFilter = this.onChangeRangeFilter.bind(this);\r\n  }\r\n\r\n  onChangeDescription(evt) {\r\n    let newDescription;\r\n    if (evt && evt.target) newDescription = evt.target.value;\r\n    this.setState({\r\n      descriptionFilter: newDescription,\r\n    });\r\n  }\r\n\r\n  onChangeRangeFilter(evt) {\r\n    const { changeRangeFilter } = this.props;\r\n\r\n    let newRangeFilter;\r\n    if (evt && evt.target) newRangeFilter = evt.target.value;\r\n\r\n    const today = new Date();\r\n\r\n    let dateA = parseDateToString({ date: today });\r\n    const dateB = parseDateToString({ date: today });\r\n\r\n    let range = {\r\n      dateA,\r\n      dateB,\r\n    };\r\n    switch (newRangeFilter) {\r\n      case '90': {\r\n        dateA = getDateFromRange({ d: today, range: 90 });\r\n        range.dateA = dateA;\r\n        break;\r\n      }\r\n      case 'month': {\r\n        dateA = getStartMonthFromDate({ d: new Date() });\r\n        range.dateA = dateA;\r\n        break;\r\n      }\r\n      default: {\r\n        range = null;\r\n      }\r\n    }\r\n    changeRangeFilter(range);\r\n  }\r\n\r\n  filterByDescription(descriptionOptional) {\r\n    const { descriptionFilter } = this.state;\r\n    const { changeDescription } = this.props;\r\n    changeDescription(descriptionOptional === '' ? descriptionOptional : descriptionFilter);\r\n  }\r\n\r\n  render() {\r\n    const { isOpen, toggle, title, className, data, putDocumentRead } = this.props;\r\n\r\n    const { descriptionFilter } = this.state;\r\n    return (\r\n      <Modal isOpen={isOpen} className={className}>\r\n        <ModalHeader style={{ color: '#0E6837' }}>\r\n          {title}\r\n          <select\r\n            name=\"transactionRange\"\r\n            id=\"transactionRange\"\r\n            className=\"select-range\"\r\n            onChange={this.onChangeRangeFilter}\r\n          >\r\n            <option value=\"all\">All transactions</option>\r\n            <option value=\"month\">Last month</option>\r\n            <option value=\"90\">Last 90 days</option>\r\n          </select>\r\n          <input\r\n            className=\"search-input\"\r\n            type=\"text\"\r\n            onChange={this.onChangeDescription}\r\n            value={descriptionFilter}\r\n          />\r\n          <button className=\"search-button\" type=\"button\" onClick={this.filterByDescription}>\r\n            Filter\r\n          </button>\r\n        </ModalHeader>\r\n        <ModalBody style={{ padding: 0 }}>\r\n          <div className=\"my-table\">\r\n            {data && <MyTable toggleModal={toggle} data={data} putDocumentRead={putDocumentRead} />}\r\n          </div>\r\n        </ModalBody>\r\n        <ModalFooter>\r\n          <Button\r\n            onClick={() => {\r\n              this.onChangeRangeFilter();\r\n              this.onChangeDescription();\r\n              this.filterByDescription('');\r\n              toggle();\r\n            }}\r\n          >\r\n            Close\r\n          </Button>\r\n        </ModalFooter>\r\n      </Modal>\r\n    );\r\n  }\r\n}\r\n\r\nMyModal.propTypes = {\r\n  isOpen: PropTypes.bool.isRequired,\r\n  toggle: PropTypes.func.isRequired,\r\n  putDocumentRead: PropTypes.func.isRequired,\r\n  title: PropTypes.string,\r\n  className: PropTypes.string,\r\n  data: PropTypes.arrayOf(Object),\r\n  changeDescription: PropTypes.func.isRequired,\r\n  changeRangeFilter: PropTypes.func.isRequired,\r\n};\r\n\r\nMyModal.defaultProps = {\r\n  title: '',\r\n  className: '',\r\n  data: [],\r\n};\r\n\r\nexport default MyModal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Icon from 'components/Icon';\r\nimport Title from 'components/Title';\r\nimport Counter from 'components/Counter';\r\nimport MyModal from 'components/modal/MyModal';\r\n\r\nclass App extends React.PureComponent {\r\n  render() {\r\n    const {\r\n      icon,\r\n      title,\r\n      modalOpen,\r\n      toggleModal,\r\n      data,\r\n      putDocumentRead,\r\n      onChangeDescription,\r\n      onChangeRangeFilter,\r\n    } = this.props;\r\n\r\n    const getUnreadData = () => {\r\n      let i = 0;\r\n      data.forEach(d => {\r\n        if (!d.read) {\r\n          // eslint-disable-next-line no-plusplus\r\n          i++;\r\n        }\r\n      });\r\n      return i;\r\n    };\r\n\r\n    const changeDescription = description => {\r\n      onChangeDescription(description);\r\n    };\r\n\r\n    const changeRangeFilter = range => {\r\n      onChangeRangeFilter(range);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */}\r\n        <div\r\n          className=\"list-item\"\r\n          onClick={Array.isArray(data) && data.length ? () => toggleModal() : null}\r\n        >\r\n          {icon && <Icon icon={icon} />} {title && <Title title={title} />}{' '}\r\n          {data && data.length > 0 && getUnreadData() !== 0 ? (\r\n            <Counter count={getUnreadData()} />\r\n          ) : null}\r\n        </div>\r\n        {data ? (\r\n          <MyModal\r\n            className=\"my-modal\"\r\n            isOpen={modalOpen}\r\n            toggle={toggleModal}\r\n            title={title}\r\n            data={data}\r\n            putDocumentRead={putDocumentRead}\r\n            changeDescription={changeDescription}\r\n            changeRangeFilter={changeRangeFilter}\r\n          />\r\n        ) : null}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nApp.propTypes = {\r\n  icon: PropTypes.string,\r\n  iconStyle: PropTypes.shape({}),\r\n  countStyle: PropTypes.shape({}),\r\n  title: PropTypes.string,\r\n  titleStyle: PropTypes.shape({}),\r\n  modalOpen: PropTypes.bool.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n  putDocumentRead: PropTypes.func.isRequired,\r\n  data: PropTypes.arrayOf(Object),\r\n  onChangeDescription: PropTypes.func.isRequired,\r\n  onChangeRangeFilter: PropTypes.func.isRequired,\r\n};\r\n\r\nApp.defaultProps = {\r\n  icon: '',\r\n  iconStyle: {},\r\n  countStyle: {},\r\n  title: '',\r\n  titleStyle: {},\r\n  data: [],\r\n};\r\n\r\nexport default App;\r\n","export const AuthenticatedView = ({ children, keycloak }) => {\r\n  const authenticated = keycloak.initialized && keycloak.authenticated;\r\n  return authenticated ? children : null;\r\n};\r\n\r\nexport const UnauthenticatedView = ({ children, keycloak }) => {\r\n  const authenticated = keycloak.initialized && keycloak.authenticated;\r\n  return !authenticated ? children : null;\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nconst keycloakType = PropTypes.shape({\r\n  initialized: PropTypes.bool,\r\n  authenticated: PropTypes.bool,\r\n});\r\n\r\nexport default keycloakType;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { Snackbar, SnackbarContent } from '@material-ui/core';\r\nimport { green } from '@material-ui/core/colors';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst styles = theme => ({\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconStatus: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n});\r\n\r\nconst statusIcon = {\r\n  success: CheckCircleIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst autoHideDurations = {\r\n  success: 3000,\r\n  error: null,\r\n  info: 5000,\r\n};\r\n\r\nconst Notification = ({ className, classes, status: passedStatus, message, onClose }) => {\r\n  const isOpen = !!message;\r\n\r\n  const status = passedStatus || Notification.INFO;\r\n  const Icon = statusIcon[status];\r\n  const autoHideDuration = autoHideDurations[status];\r\n\r\n  const messageTemplate = (\r\n    <span className={classes.message}>\r\n      <Icon className={clsx(classes.icon, classes.iconStatus)} />\r\n      {message}\r\n    </span>\r\n  );\r\n\r\n  return (\r\n    <Snackbar open={isOpen} onClose={onClose} autoHideDuration={autoHideDuration}>\r\n      <SnackbarContent\r\n        className={clsx(classes[status], className)}\r\n        message={messageTemplate}\r\n        action={[\r\n          <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n            <CloseIcon className={classes.icon} />\r\n          </IconButton>,\r\n        ]}\r\n      />\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nNotification.SUCCESS = 'success';\r\nNotification.ERROR = 'error';\r\nNotification.INFO = 'info';\r\n\r\nNotification.propTypes = {\r\n  classes: PropTypes.shape({\r\n    message: PropTypes.string.isRequired,\r\n    icon: PropTypes.string.isRequired,\r\n    iconStatus: PropTypes.string.isRequired,\r\n    error: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  className: PropTypes.string,\r\n  status: PropTypes.oneOf([Notification.SUCCESS, Notification.ERROR, Notification.INFO]),\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nNotification.defaultProps = {\r\n  message: null,\r\n  className: '',\r\n  status: Notification.INFO,\r\n  onClose: () => {},\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(Notification);\r\n","/* eslint-disable-next-line import/prefer-default-export */\r\nexport const DOMAIN = process.env.REACT_APP_DOMAIN;\r\n","import { DOMAIN } from 'api/constants';\r\n\r\nconst getKeycloakToken = () => {\r\n  if (\r\n    window &&\r\n    window.entando &&\r\n    window.entando.keycloak &&\r\n    window.entando.keycloak.authenticated\r\n  ) {\r\n    return window.entando.keycloak.token;\r\n  }\r\n  return '';\r\n};\r\n\r\nconst getDefaultOptions = () => ({\r\n  headers: new Headers({\r\n    Authorization: `Bearer ${getKeycloakToken()}`,\r\n    'Content-Type': 'application/json',\r\n  }),\r\n});\r\n\r\nconst resource = 'statements';\r\n\r\nconst request = async (url, options) => {\r\n  const response = await fetch(url, options);\r\n  const headers = {\r\n    ...(response.headers.has('X-Total-Count')\r\n      ? { 'X-Total-Count': parseInt(response.headers.get('X-Total-Count'), 10) }\r\n      : {}),\r\n  };\r\n  return response.status >= 200 && response.status < 300\r\n    ? { data: await response.json(), headers }\r\n    : Promise.reject(new Error(response.statusText || response.status));\r\n};\r\n\r\nexport const getFilterQuery = (filters = []) => {\r\n  if (filters.length) {\r\n    return filters\r\n      .filter(f => f.field && f.operator)\r\n      .reduce((acc, f) => {\r\n        switch (f.operator) {\r\n          case 'specified':\r\n            return [...acc, `${encodeURIComponent(`${f.field}.specified`)}=true`];\r\n          case 'unspecified':\r\n            return [...acc, `${encodeURIComponent(`${f.field}.specified`)}=false`];\r\n          default:\r\n        }\r\n        return [\r\n          ...acc,\r\n          `${encodeURIComponent(`${f.field}.${f.operator}`)}=${encodeURIComponent(f.value)}`,\r\n        ];\r\n      }, [])\r\n      .join('&');\r\n  }\r\n  return '';\r\n};\r\n\r\nconst getUrl = (url, filters = '', pagination = '') => {\r\n  const hasQuery = !!(filters || pagination);\r\n  const parameters = `${filters}${filters ? '&' : ''}${pagination}`;\r\n  return `${url}${hasQuery ? `?${parameters}` : ''}`;\r\n};\r\n\r\nexport const apiStatementsGet = async ({ filters = [], pagination }) => {\r\n  // const { userId } = params;\r\n  const filterQuery = getFilterQuery(filters);\r\n  const paginationQuery = pagination\r\n    ? `page=${pagination.page}&size=${pagination.rowsPerPage}`\r\n    : '';\r\n  const url = getUrl(`${DOMAIN}/${resource}`, filterQuery, paginationQuery);\r\n  const options = {\r\n    ...getDefaultOptions(),\r\n    method: 'GET',\r\n  };\r\n  return request(url, options);\r\n};\r\n\r\nexport const apiStatementPut = async statement => {\r\n  const url = `${DOMAIN}/${resource}`;\r\n  const options = {\r\n    ...getDefaultOptions(),\r\n    method: 'PUT',\r\n    body: statement ? JSON.stringify(statement) : null,\r\n  };\r\n  return request(url, options);\r\n};\r\n","import { DOMAIN } from 'api/constants';\r\n\r\nconst getKeycloakToken = () => {\r\n  if (\r\n    window &&\r\n    window.entando &&\r\n    window.entando.keycloak &&\r\n    window.entando.keycloak.authenticated\r\n  ) {\r\n    return window.entando.keycloak.token;\r\n  }\r\n  return '';\r\n};\r\n\r\nconst getDefaultOptions = () => ({\r\n  headers: new Headers({\r\n    Authorization: `Bearer ${getKeycloakToken()}`,\r\n    'Content-Type': 'application/json',\r\n  }),\r\n});\r\n\r\nconst resource = 'alerts';\r\n\r\nconst request = async (url, options) => {\r\n  const response = await fetch(url, options);\r\n  const headers = {\r\n    ...(response.headers.has('X-Total-Count')\r\n      ? { 'X-Total-Count': parseInt(response.headers.get('X-Total-Count'), 10) }\r\n      : {}),\r\n  };\r\n\r\n  return response.status >= 200 && response.status < 300\r\n    ? { data: await response.json(), headers }\r\n    : Promise.reject(new Error(response.statusText || response.status));\r\n};\r\n\r\nexport const getFilterQuery = (filters = []) => {\r\n  if (filters.length) {\r\n    return filters\r\n      .filter(f => f.field && f.operator)\r\n      .reduce((acc, f) => {\r\n        switch (f.operator) {\r\n          case 'specified':\r\n            return [...acc, `${encodeURIComponent(`${f.field}.specified`)}=true`];\r\n          case 'unspecified':\r\n            return [...acc, `${encodeURIComponent(`${f.field}.specified`)}=false`];\r\n          default:\r\n        }\r\n        return [\r\n          ...acc,\r\n          `${encodeURIComponent(`${f.field}.${f.operator}`)}=${encodeURIComponent(f.value)}`,\r\n        ];\r\n      }, [])\r\n      .join('&');\r\n  }\r\n  return '';\r\n};\r\n\r\nconst getUrl = (url, filters = '', pagination = '') => {\r\n  const hasQuery = !!(filters || pagination);\r\n  const parameters = `${filters}${filters ? '&' : ''}${pagination}`;\r\n  return `${url}${hasQuery ? `?${parameters}` : ''}`;\r\n};\r\n\r\nexport const apiAlertsGet = async ({ filters = [], pagination }) => {\r\n  // const { userId } = params;\r\n  const filterQuery = getFilterQuery(filters);\r\n  const paginationQuery = pagination\r\n    ? `page=${pagination.page}&size=${pagination.rowsPerPage}`\r\n    : '';\r\n  const url = getUrl(`${DOMAIN}/${resource}`, filterQuery, paginationQuery);\r\n  const options = {\r\n    ...getDefaultOptions(),\r\n    method: 'GET',\r\n  };\r\n  return request(url, options);\r\n};\r\n\r\nexport const apiAlertsPut = async statement => {\r\n  const url = `${DOMAIN}/${resource}`;\r\n  const options = {\r\n    ...getDefaultOptions(),\r\n    method: 'PUT',\r\n    body: statement ? JSON.stringify(statement) : null,\r\n  };\r\n  return request(url, options);\r\n};\r\n","import { apiStatementPut, apiStatementsGet } from 'api/statements/statements';\r\nimport { apiAlertsGet, apiAlertsPut } from 'api/alerts/alerts';\r\n\r\nexport const apiList = {\r\n  viewStatements: 'viewstatements',\r\n  manageAlerts: 'managealerts',\r\n};\r\n\r\nexport const getApiContext = apiToCall => {\r\n  let api;\r\n  switch (apiToCall) {\r\n    case apiList.viewStatements: {\r\n      api = apiStatementsGet;\r\n      break;\r\n    }\r\n    case apiList.manageAlerts: {\r\n      api = apiAlertsGet;\r\n      break;\r\n    }\r\n    default: {\r\n      api = new Error(`Error! Unknown api :${apiToCall}`);\r\n    }\r\n  }\r\n  return api;\r\n};\r\n\r\nexport const putApiContext = apiToCall => {\r\n  let api;\r\n  switch (apiToCall) {\r\n    case apiList.viewStatements: {\r\n      api = apiStatementPut;\r\n      break;\r\n    }\r\n    case apiList.manageAlerts: {\r\n      api = apiAlertsPut;\r\n      break;\r\n    }\r\n    default: {\r\n      api = new Error(`Error! Unknown api :${apiToCall}`);\r\n    }\r\n  }\r\n  return api;\r\n};\r\n","import React from 'react';\r\nimport App from 'App';\r\nimport PropTypes from 'prop-types';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport keycloakType from 'components/__types__/keycloak';\r\nimport { withKeycloak } from 'auth/KeycloakContext';\r\nimport { AuthenticatedView, UnauthenticatedView } from 'auth/KeycloakViews';\r\nimport Notification from 'components/common/Notification';\r\n\r\nimport { getApiContext, putApiContext } from 'api/apiHandler';\r\n\r\nclass AppContainer extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      modalOpen: false,\r\n      loading: true,\r\n      notificationStatus: null,\r\n      notificationMessage: null,\r\n      descriptionFilter: null,\r\n      rangeFilter: null,\r\n    };\r\n    this.toggleModal = this.toggleModal.bind(this);\r\n    this.putDocumentRead = this.putDocumentRead.bind(this);\r\n    this.closeNotification = this.closeNotification.bind(this);\r\n    this.onChangeDescription = this.onChangeDescription.bind(this);\r\n    this.onChangeRangeFilter = this.onChangeRangeFilter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { keycloak } = this.props;\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n\r\n    if (authenticated) {\r\n      this.onMount();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { keycloak } = this.props;\r\n    const { descriptionFilter, rangeFilter } = this.state;\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n\r\n    const changedAuth = prevProps.keycloak.authenticated !== authenticated;\r\n    const changedDescriptionFilter = prevState.descriptionFilter !== descriptionFilter;\r\n    const changedRangeFilter = prevState.rangeFilter !== rangeFilter;\r\n\r\n    if (authenticated && (changedAuth || changedDescriptionFilter || changedRangeFilter)) {\r\n      this.onMount();\r\n    }\r\n  }\r\n\r\n  onMount = () => {\r\n    const { icon, onError, t, keycloak } = this.props;\r\n    const { descriptionFilter, rangeFilter } = this.state;\r\n    const apiCall = getApiContext(icon);\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n    const userId = keycloak.idTokenParsed.preferred_username;\r\n\r\n    const filters = [\r\n      {\r\n        field: 'userId',\r\n        operator: 'equals',\r\n        value: userId,\r\n      },\r\n    ];\r\n\r\n    if (descriptionFilter) {\r\n      filters.push({\r\n        field: 'description',\r\n        operator: 'contains',\r\n        value: descriptionFilter,\r\n      });\r\n    }\r\n\r\n    if (rangeFilter) {\r\n      filters.push({\r\n        field: 'createdAt',\r\n        operator: 'lessThanOrEqual',\r\n        value: rangeFilter.dateB,\r\n      });\r\n      filters.push({\r\n        field: 'createdAt',\r\n        operator: 'greaterThanOrEqual',\r\n        value: rangeFilter.dateA,\r\n      });\r\n    }\r\n\r\n    const requestParameters = {\r\n      filters,\r\n      // ...{\r\n      //   pagination: {\r\n      //     page: pagination.currentPage,\r\n      //     rowsPerPage: pagination.itemsPerPage,\r\n      //   },\r\n      // },\r\n    };\r\n\r\n    if (authenticated) {\r\n      if (userId) {\r\n        apiCall(requestParameters)\r\n          .then(response => {\r\n            const { data } = response;\r\n            const sortData = data.slice().sort((a, b) => {\r\n              const aDate = new Date(a.createdAt);\r\n              const bDate = new Date(b.createdAt);\r\n              let rv = bDate - aDate;\r\n              if (rv === 0) {\r\n                rv = a.description.localeCompare(b.description);\r\n              }\r\n              return rv;\r\n              // return new Date(b.createdAt) - new Date(a.createdAt);\r\n            });\r\n            this.setState({ data: sortData });\r\n          })\r\n          .catch(e => {\r\n            onError(e);\r\n            this.setState({\r\n              notificationStatus: Notification.ERROR,\r\n              notificationMessage: t('common.couldNotFetchData'),\r\n            });\r\n          })\r\n          .finally(() => this.setState({ loading: false }));\r\n      } else {\r\n        this.setState({\r\n          loading: false,\r\n          notificationStatus: Notification.ERROR,\r\n          notificationMessage: t('common.missingId'),\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  onChangeDescription(description) {\r\n    this.setState({\r\n      descriptionFilter: description,\r\n    });\r\n  }\r\n\r\n  onChangeRangeFilter(range) {\r\n    this.setState({\r\n      rangeFilter: range,\r\n    });\r\n  }\r\n\r\n  closeNotification() {\r\n    this.setState({\r\n      notificationStatus: null,\r\n      notificationMessage: null,\r\n    });\r\n  }\r\n\r\n  async putDocumentRead(document) {\r\n    const { icon, t } = this.props;\r\n    const apiCall = putApiContext(icon);\r\n    try {\r\n      const updated = await apiCall(document);\r\n      if (updated) this.onMount();\r\n    } catch (e) {\r\n      this.setState({\r\n        notificationStatus: Notification.ERROR,\r\n        notificationMessage: t('common.couldNotFetchData'),\r\n      });\r\n    }\r\n  }\r\n\r\n  toggleModal() {\r\n    this.setState(prevState => ({\r\n      modalOpen: !prevState.modalOpen,\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { icon, title, keycloak, t } = this.props;\r\n    const { modalOpen, data, loading, notificationStatus, notificationMessage } = this.state;\r\n    return (\r\n      <ThemeProvider theme={this.theme}>\r\n        <UnauthenticatedView keycloak={keycloak}>\r\n          {t('common.notAuthenticated')}\r\n        </UnauthenticatedView>\r\n        <AuthenticatedView keycloak={keycloak}>\r\n          {loading && t('common.loading')}\r\n          {!loading && (\r\n            <App\r\n              icon={icon}\r\n              title={title}\r\n              modalOpen={modalOpen}\r\n              toggleModal={this.toggleModal}\r\n              data={data}\r\n              putDocumentRead={this.putDocumentRead}\r\n              onChangeDescription={this.onChangeDescription}\r\n              onChangeRangeFilter={this.onChangeRangeFilter}\r\n            />\r\n          )}\r\n        </AuthenticatedView>\r\n        <Notification\r\n          status={notificationStatus}\r\n          message={notificationMessage}\r\n          onClose={this.closeNotification}\r\n        />\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nAppContainer.propTypes = {\r\n  icon: PropTypes.string,\r\n  title: PropTypes.string,\r\n  onError: PropTypes.func,\r\n  keycloak: keycloakType.isRequired,\r\n  t: PropTypes.func.isRequired,\r\n};\r\n\r\nAppContainer.defaultProps = {\r\n  icon: '',\r\n  title: '',\r\n  onError: () => {},\r\n};\r\n\r\nexport default withKeycloak(withTranslation()(AppContainer));\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { KeycloakContext } from 'auth/KeycloakContext';\nimport AppContainer from 'AppContainer';\nimport { subscribeToWidgetEvent } from 'helpers/widgetEvents';\nimport { KEYCLOAK_EVENT_TYPE } from 'custom-elements/widgetEventTypes';\nimport i18next from 'i18next';\n\nconst getKeycloakInstance = () =>\n  (window &&\n    window.entando &&\n    window.entando.keycloak && { ...window.entando.keycloak, initialized: true }) || {\n    initialized: false,\n  };\n\nconst ATTRIBUTES = {\n  icon: 'icon',\n  title: 'title',\n};\n\nclass AlertBarIcon extends HTMLElement {\n  constructor(...args) {\n    super(...args);\n\n    this.mountPoint = null;\n    this.unsubscribeFromKeycloakEvent = null;\n    this.keycloak = getKeycloakInstance();\n  }\n\n  static get observedAttributes() {\n    return Object.values(ATTRIBUTES);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    if (!Object.values(ATTRIBUTES).includes(name)) {\n      throw new Error(`Untracked changed attribute: ${name}`);\n    }\n    if (this.mountPoint && newValue !== oldValue) {\n      this.render();\n    }\n  }\n\n  connectedCallback() {\n    this.mountPoint = document.createElement('div');\n    this.appendChild(this.mountPoint);\n\n    const locale = this.getAttribute('locale') || 'en';\n    i18next.changeLanguage(locale);\n\n    this.keycloak = { ...getKeycloakInstance(), initialized: true };\n\n    this.unsubscribeFromKeycloakEvent = subscribeToWidgetEvent(KEYCLOAK_EVENT_TYPE, () => {\n      this.keycloak = { ...getKeycloakInstance(), initialized: true };\n      this.render();\n    });\n\n    this.render();\n  }\n\n  render() {\n    const icon = this.getAttribute(ATTRIBUTES.icon);\n    const title = this.getAttribute(ATTRIBUTES.title);\n\n    ReactDOM.render(\n      <KeycloakContext.Provider value={this.keycloak}>\n        <AppContainer icon={icon} title={title} />\n      </KeycloakContext.Provider>,\n      this.mountPoint\n    );\n  }\n\n  disconnectedCallback() {\n    if (this.unsubscribeFromKeycloakEvent) {\n      this.unsubscribeFromKeycloakEvent();\n    }\n  }\n}\n\nif (!customElements.get('sd-alert-bar-icon')) {\n  customElements.define('sd-alert-bar-icon', AlertBarIcon);\n}\n","export const publishWidgetEvent = (eventId, payload) => {\r\n  const widgetEvent = new CustomEvent(eventId, {\r\n    detail: {\r\n      payload,\r\n    },\r\n  });\r\n  window.dispatchEvent(widgetEvent);\r\n};\r\n\r\nexport const createWidgetEventPublisher = eventType => payload =>\r\n  publishWidgetEvent(eventType, payload);\r\n\r\nexport const subscribeToWidgetEvent = (eventType, eventHandler) => {\r\n  window.addEventListener(eventType, eventHandler);\r\n\r\n  return () => {\r\n    window.removeEventListener(eventType, eventHandler);\r\n  };\r\n};\r\n\r\nexport const subscribeToWidgetEvents = (widgetEvents, eventHandler) => {\r\n  widgetEvents.forEach(eventType => window.addEventListener(eventType, eventHandler));\r\n\r\n  return () => {\r\n    widgetEvents.forEach(eventType => window.removeEventListener(eventType, eventHandler));\r\n  };\r\n};\r\n\r\nexport const widgetEventToFSA = widgetEvent => {\r\n  // for info about Flux Standard Action (FSA) see https://github.com/redux-utilities/flux-standard-action\r\n  const {\r\n    type,\r\n    detail: { payload, error, meta },\r\n  } = widgetEvent;\r\n  return { type, payload, error, meta };\r\n};\r\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const KEYCLOAK_EVENT_TYPE = 'keycloak';\r\n","module.exports = __webpack_public_path__ + \"static/media/investments.e40160bb.svg\";","module.exports = __webpack_public_path__ + \"static/media/managealerts.c93a3064.svg\";","module.exports = __webpack_public_path__ + \"static/media/paybills.955e0527.svg\";","module.exports = __webpack_public_path__ + \"static/media/sendmoney.e86b26c5.svg\";","module.exports = __webpack_public_path__ + \"static/media/transfermoney.98b87291.svg\";","module.exports = __webpack_public_path__ + \"static/media/viewstatements.7aebe259.svg\";","module.exports = __webpack_public_path__ + \"static/media/Entando_Development_Methodology.dc5129ba.pdf\";"],"sourceRoot":""}